Перемещение частей конфигурации в отдельные файлы
===
В базовом шаблоне приложения мы разделили файлы конфигурации web  и console. И обычно мы устанавливаем некоторые компоненты приложения в обоих файлах конфигурации.
Кроме того, когда мы разрабатываем большое приложение, мы можем столкнуться с некоторыми неудобствами. Например, если нам нужно настроить некоторые параметры, мы, скорее всего, повторим изменения как в конфигурации веб-приложения, так и в конфигурации консольного приложения.

Подготовка 
---
Создайте новое yii2-app-basic приложение с помощью диспетчера пакетов Composer, как описано в официальном руководстве по адресу <http://www.yiiframework.com/doc-2.0/guide-start-installation.html>. 
По русски <http://yiiframework.domain-na.me/doc/guide/2.0/ru/start-installation>

Как это сделать...
---

1 Откройте config/web.php файл и добавить раздел urlManager в конфигурацию компонентов:
```php
'components' => [
    // ...
    'db' => require(__DIR__ . '/db.php'),
    'urlManager' => [
        'class' => 'yii\web\UrlManager',
        'enablePrettyUrl' => true,
        'showScriptName' => false,
        'rules' => [
            '' => 'site/index',
            '<_c:[\w\-]+>/<id:\d+>' => '<_c>/view',
            '<_c:[\w\-]+/<_a:[\w\-]+>>/<id:\d+>' => '<_c>/<_a>',
            '<_c:[\w\-]+>' =>
            '<_c>/index',
        ],
    ],
],
```

2 Создайте config/urlRules.php файл и переместить в него массив правил:
```php
<?php
return [
    '' => 'site/index',
    '<_c:[\w\-]+>/<id:\d+>' => '<_c>/view',
    '<_c:[\w\-]+/<_a:[\w\-]+>>/<id:\d+>' => '<_c>/<_a>',
    '<_c:[\w\-]+>' => '<_c>/index',
];
```

3 Замените массив правил файлом, который требует этого:
```php
'urlManager' => [
    'class' => 'yii\web\UrlManager',
    'enablePrettyUrl' => true,
    'showScriptName' => false,
    'rules' => require(__DIR__ . '/urlRules.php'),
],
```
Как это работает...
---
Предыдущий метод основан на том, что файлы конфигурации Yii являются собственными PHP-файлами с массивами:
```php
<?php
return [...];
```
Давайте посмотрим на необходимое построить:
```php
'rules' => require(__DIR__ . '/urlRules.php'),
```
Когда мы используем это, он читает указанный файл, и, если есть оператор return внутри этого файла, он возвращает значение.
Поэтому перемещение части из основного файла конфигурации в отдельный файл требует создания отдельного файла, перемещения части конфигурации в него сразу после инструкции return и использования require в основном файле конфигурации.
Если отдельные приложения (в нашем примере это веб-приложения и консольные приложения) требуют некоторых общих частей конфигурации, то мы можем использовать require для их перемещения в отдельный файл.

Смотрите так же
---
Чтобы узнать больше о PHP require и include операторах, обратитесь к следующим URL:
* <http://php.net/mannal/en/function.require.php>
* <http://php.net./mani]a]/en/function.include.php>
